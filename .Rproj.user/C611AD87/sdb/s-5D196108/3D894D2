{
    "collab_server" : "",
    "contents" : "#' Singluar Value Decomposition.\n#'\n#' Returns a possibly truncated SVD of a data matrix.\n#'\n#' Wraps the svd function. Removes the extra singluar values if a truncated svd is computed.\n#'\n#' @param X Matrix.\n#' @param rank Integer. Rank of the desired SVD (optional). If rank==0 returns zeros.\n#'\n#' @return The SVD of X.\nget_svd <- function(X, rank=NULL){\n    # SVD <- get_svd(X, rank=2)\n\n    if(is.null(rank)){\n        svd(X)\n    } else if(rank == 0){\n        # TODO: what to do\n        decomposition <- list()\n        decomposition[['u']] <- matrix(0, ncol=1, nrow=dim(X)[1])\n        decomposition[['d']] <- 0\n        decomposition[['v']] <- matrix(0, ncol=1, nrow=dim(X)[2])\n        decomposition\n\n    } else{\n        decomposition <- svd(X, nu=rank, nv=rank)\n        decomposition[['d']] <- decomposition[['d']][1:rank]\n        decomposition\n    }\n\n}\n\n\n\n#' Truncates an SVD.\n#'\n#' Removes columns from the U, D, V matrix computed form an SVD.\n#'\n#'\n#' @param decomposition List. List with entries 'u', 'd', and 'v'from the svd function.\n#' @param rank List. List with entries 'u', 'd', and 'v'from the svd function.\n#'\n#' @return The trucated SVD of X.\ntruncate_svd <- function(decomposition, rank){\n\n    if(rank==0){\n        n <- dim(decomposition[['u']])[1]\n        d <- dim(decomposition[['v']])[1]\n        decomposition[['u']] <- matrix(0, ncol=1, nrow=n)\n        decomposition[['d']] <- 0\n        decomposition[['v']] <- matrix(0, ncol=1, nrow=d)\n    }else{\n        decomposition[['u']] <- decomposition[['u']][, 1:rank, drop=FALSE]\n        decomposition[['d']] <- decomposition[['d']][1:rank]\n        decomposition[['v']] <- decomposition[['v']][, 1:rank, drop=FALSE]\n    }\n\n    decomposition\n}\n\n\n#' Reconstruces the original matrix from its SVD.\n#'\n#' Computes UDV^T to get the approximate (or full) X matrix.\n#'\n#' @param decomposition List. List with entries 'u', 'd', and 'v'from the svd function.\n#'\n#' @return Matrix. The original matrix.\nsvd_reconstruction <- function(decomposition){\n\n    # decomposition rank -- need to truncated singluar values\n    r <- dim(decomposition[['u']])[2]\n\n    decomposition[['u']]  %*%\n        diag(decomposition[['d']][1:r], nrow=r, ncol=r) %*%\n        t(decomposition[['v']])\n\n}\n",
    "created" : 1500061022436.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3676460278",
    "id" : "3D894D2",
    "lastKnownWriteTime" : 1500064069,
    "last_content_update" : 1500064069802,
    "path" : "~/Dropbox/Research/jive/R/ajive/R/help_fun.R",
    "project_path" : "R/help_fun.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}